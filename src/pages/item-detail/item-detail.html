<ion-header  #head>
  <ion-navbar text-center no-border-top>
    <ion-title>Topic Detail  </ion-title>
    <ion-toolbar no-border-top>
      <ion-searchbar (ionInput)="getItems($event)">
        <ion-icon name="search"></ion-icon>
      </ion-searchbar>  
    </ion-toolbar>
  </ion-navbar>
</ion-header>

<div *ngIf="displayOnLoad">
  <content-drawer class="drawer"[options]="drawerOptions">
    <div class="content">{{item.topic_detail}}</div><br>
    <a>Created at: {{item.topic_date}}</a>
    <ion-footer>
      <div class="drawerFooter">
        <div class="drawerFooterText">Subject: {{item.topic_title}}</div>
      </div>
    </ion-footer>
  </content-drawer>
</div>

<ion-content padding>
	<!--
  <ion-card id="topicdetail">
    <h1>
       Subject: {{item.topic_title}}
    </h1>
    <div>
      <br><h2>Description: {{item.topic_detail}}</h2>
	  <br><div id="dateTopic"><a>Created at: {{item.topic_date}}</a></div>
    </div>
	<div id="buttonreply">
		<button ion-button (click)="goToNewReply(item)" icon-left>
		<ion-icon name="ios-undo">
		</ion-icon>  Reply 
    </button>
  </div>
  </ion-card>
  -->
  <ion-list>
    <ion-card id="card" *ngFor="let item1 of items">
	  <p>
	  	<ion-icon name="ios-person">
		</ion-icon>
        <a> &nbsp;{{item1.username}} 's learning log</a>   	
      </p>
      <h2>&nbsp;&nbsp;{{item1.user_post}}</h2>
            
      <div id="viewbtn">
      	<br><a>{{item1.post_date}}</a> 
      	<br> 
      	<button ion-button (click)="goToNewReply(item1)" >
		 	<ion-icon name="ios-undo">
			</ion-icon> Reply 
		</button>
		<button ion-button (click)="getPostedReply(item1)">
		 	<ion-icon>
			</ion-icon> Comments 
		</button>
      </div>
      
      <ion-list *ngFor="let item of posted_reply">
      	<ion-card id="card"   *ngIf="comments_count(item, item1)"> 
      		<p>
	  		<ion-icon name="ios-person">
			</ion-icon>
        	<a> &nbsp;{{item.username}} 's learning log</a>   	
      		</p>
      		<h2>&nbsp;&nbsp;{{item.user_post}}</h2>
      	</ion-card>
      </ion-list>
	
   </ion-card>  
  </ion-list>
</ion-content>

<ion-footer></ion-footer>